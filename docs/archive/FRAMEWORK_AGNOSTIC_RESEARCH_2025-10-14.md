# Framework-Agnostic Architecture –¥–ª—è Web3 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

> ‚ö†Ô∏è **–ê–†–•–ò–í–ù–´–ô –î–û–ö–£–ú–ï–ù–¢ (–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ)**
>
> –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è **–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º** (—Å–æ–∑–¥–∞–Ω 2025-10-14), –∫–æ—Ç–æ—Ä–æ–µ –ª–µ–≥–ª–æ –≤ –æ—Å–Ω–æ–≤—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞.
> –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ —ç—Ç–æ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –±—ã–ª–∞ —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ –≤–∏–¥–µ Architecture Decision Record.
>
> **–î–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–º.:**
>
> - üìÑ [ADR-002: Framework-agnostic –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](../architecture/adrs/002-framework-agnostic-architecture.md) - –ø—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ
> - üìÑ [Level 3: Component Diagram](../architecture/c4-diagrams/level-3-components.md) - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–°—Ç–∞—Ç—É—Å:** –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (–≤–æ—à–ª–æ –≤ ADR-002)
**–î–∞—Ç–∞:** 14 –æ–∫—Ç—è–±—Ä—è 2025
**–¶–µ–ª—å:** –ò–∑—É—á–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Web3 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –æ—Ç –≤—ã–±–æ—Ä–∞ UI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ (React/Vue/Svelte)

---

## –ü—Ä–æ–±–ª–µ–º–∞

–¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω–∞ —Å React (custom hooks, React-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã). –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ (Vue, Svelte) –ø—Ä–∏–¥–µ—Ç—Å—è –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å –≤—Å—é –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å Web3.

**–í–æ–ø—Ä–æ—Å:** –ú–æ–∂–Ω–æ –ª–∏ –≤—ã—Å—Ç—Ä–æ–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Ç–∞–∫, —á—Ç–æ–±—ã –Ω–µ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –≤—ã–±–æ—Ä–∞ —Å—Ç–µ–∫–∞ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ?

## –û—Ç–≤–µ—Ç

–î–∞, —ç—Ç–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤–æ–∑–º–æ–∂–Ω–æ. –ü–æ–¥—Ö–æ–¥ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **framework-agnostic architecture**.

---

## 1. Layered Architecture —Å —á–∏—Å—Ç—ã–º Core

–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è: –æ—Ç–¥–µ–ª–∏—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –æ—Ç UI-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞.

```text
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   UI Layer (React/Vue/Svelte)       ‚îÇ  ‚Üê Framework-specific
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   Adapter Layer                     ‚îÇ  ‚Üê –¢–æ–Ω–∫–∞—è –ø—Ä–æ—Å–ª–æ–π–∫–∞
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   Business Logic (Pure TS/JS)       ‚îÇ  ‚Üê Framework-agnostic
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   Data Layer (Web3/API)             ‚îÇ  ‚Üê Framework-agnostic
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –¥–ª—è Web3

**Core Service** - —á–∏—Å—Ç—ã–π TypeScript, –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤:

```typescript
// core/WalletService.ts - —á–∏—Å—Ç—ã–π TypeScript
class WalletService {
  private provider: BrowserProvider | null = null;
  private listeners: Set<(state: WalletState) => void> = new Set();

  async connect() { /* ... */ }

  subscribe(callback: (state: WalletState) => void) {
    this.listeners.add(callback);
    return () => this.listeners.delete(callback);
  }

  private notify(state: WalletState) {
    this.listeners.forEach(cb => cb(state));
  }
}

// Singleton instance
export const walletService = new WalletService();
```

**React Adapter** - —Ç–æ–Ω–∫–∞—è –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è React:

```typescript
// react/useWallet.ts - React –∞–¥–∞–ø—Ç–µ—Ä
export function useWallet() {
  const [state, setState] = useState<WalletState>(walletService.getState());

  useEffect(() => {
    return walletService.subscribe(setState);
  }, []);

  return {
    ...state,
    connect: walletService.connect,
    // ...
  };
}
```

**Vue Adapter** - —Ç–æ–Ω–∫–∞—è –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è Vue:

```typescript
// vue/useWallet.ts - Vue –∞–¥–∞–ø—Ç–µ—Ä
export function useWallet() {
  const state = ref<WalletState>(walletService.getState());

  onMounted(() => {
    const unsubscribe = walletService.subscribe(newState => {
      state.value = newState;
    });

    onUnmounted(unsubscribe);
  });

  return {
    state,
    connect: walletService.connect,
    // ...
  };
}
```

**–í—ã–≤–æ–¥:** –û–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (`WalletService`) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö —á–µ—Ä–µ–∑ –∞–¥–∞–ø—Ç–µ—Ä—ã.

---

## 2. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

### 2.1 Web Components

–ü–æ–ª–Ω–æ—Å—Ç—å—é framework-agnostic UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Ä–∞–±–æ—Ç–∞—é—Ç –≤–µ–∑–¥–µ:

```typescript
class WalletConnect extends HTMLElement {
  connectedCallback() {
    this.innerHTML = `<button>Connect Wallet</button>`;
    this.querySelector('button')?.addEventListener('click',
      () => walletService.connect()
    );
  }
}
customElements.define('wallet-connect', WalletConnect);
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ª—é–±–æ–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–µ:

```html
<!-- React/Vue/Svelte -->
<wallet-connect></wallet-connect>
```

**–ü–ª—é—Å—ã:** –ù–∞—Ç–∏–≤–Ω–∞—è –±—Ä–∞—É–∑–µ—Ä–Ω–∞—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è, —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ
**–ú–∏–Ω—É—Å—ã:** –ú–µ–Ω–µ–µ —É–¥–æ–±–Ω—ã–π DX, —á–µ–º —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏

### 2.2 State Management –∫–∞–∫ Bridge

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å—Ç–µ–π—Ç-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞ (Zustand, Valtio):

```typescript
// Zustand (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ)
import { create } from 'zustand';

export const useWalletStore = create<WalletState>((set) => ({
  account: null,
  balance: null,

  connect: async () => {
    const account = await walletService.connect();
    set({ account });
  }
}));
```

**–ü–ª—é—Å—ã:** –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ React, Vue, Svelte
**–ú–∏–Ω—É—Å—ã:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å

### 2.3 MobX / RxJS –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

–†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –æ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞:

```typescript
import { makeAutoObservable } from 'mobx';

class WalletStore {
  account: string | null = null;
  balance: string | null = null;

  constructor() {
    makeAutoObservable(this);
  }

  async connect() {
    this.account = await walletService.connect();
  }
}

export const walletStore = new WalletStore();

// React
import { observer } from 'mobx-react-lite';
const Component = observer(() => <div>{walletStore.account}</div>);

// Vue
import { Observer } from 'mobx-vue-lite';
// ...
```

**–ü–ª—é—Å—ã:** –ú–æ—â–Ω–∞—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –∑—Ä–µ–ª–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞
**–ú–∏–Ω—É—Å—ã:** –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –∫—Ä–∏–≤–∞—è –æ–±—É—á–µ–Ω–∏—è

---

## 3. –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è framework-agnostic –ø–æ–¥—Ö–æ–¥–∞:

```text
web3-simple-example/
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îú‚îÄ‚îÄ core/                      # Framework-agnostic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WalletService.ts   # –í—Å—è Web3 –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TransactionService.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ WalletState.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ethereum.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ react-adapter/             # React —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useWallet.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ vue-adapter/               # Vue —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ composables/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useWallet.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ web-components/            # Universal
‚îÇ       ‚îî‚îÄ‚îÄ wallet-connect.ts
```

### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

- **`core/`** - –≤—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, —á–∏—Å—Ç—ã–π TypeScript, 0 –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç UI
- **`*-adapter/`** - —Ç–æ–Ω–∫–∏–µ –æ–±–µ—Ä—Ç–∫–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤
- **`web-components/`** - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## 4. –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–µ—à–µ–Ω–∏—è

### –ì–æ—Ç–æ–≤—ã–µ framework-agnostic Web3 –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

#### wagmi

- –ò–º–µ–µ—Ç vanilla JS core + React/Vue –∞–¥–∞–ø—Ç–µ—Ä—ã
- –ü–æ–ø—É–ª—è—Ä–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è Web3

```typescript
// Core (vanilla)
import { createConfig } from '@wagmi/core';

const config = createConfig({ /* ... */ });

// React
import { WagmiConfig } from 'wagmi';

// Vue
import { createApp } from 'vue';
import { WagmiPlugin } from '@wagmi/vue';
```

#### web3-onboard

- –ü–æ–ª–Ω–æ—Å—Ç—å—é framework-agnostic
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∫–æ—à–µ–ª—å–∫–æ–≤
- –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º –∏–∑ –∫–æ—Ä–æ–±–∫–∏

#### WalletConnect

- Protocol level —Ä–µ—à–µ–Ω–∏–µ
- Framework agnostic –ø–æ –¥–∏–∑–∞–π–Ω—É
- –°—Ç–∞–Ω–¥–∞—Ä—Ç –∏–Ω–¥—É—Å—Ç—Ä–∏–∏

---

## 5. –ê–Ω–∞–ª–∏–∑: –ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ framework-agnostic –ø–æ–¥—Ö–æ–¥–∞

1. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏**
   - –ü–∏—à–µ–º Web3 –ª–æ–≥–∏–∫—É –æ–¥–∏–Ω —Ä–∞–∑
   - –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤ React, Vue, Svelte, vanilla JS

2. **–õ–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**
   - Core –ª–æ–≥–∏–∫–∞ –±–µ–∑ UI –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - –ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Node.js –±–µ–∑ –±—Ä–∞—É–∑–µ—Ä–∞

3. **–ì–∏–±–∫–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞**
   - –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –±–µ–∑ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è core
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

4. **–û–¥–Ω–∞ –∫–æ–¥–æ–≤–∞—è –±–∞–∑–∞ –¥–ª—è –ª–æ–≥–∏–∫–∏**
   - –ú–µ–Ω—å—à–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ü—Ä–æ—â–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å

### ‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

1. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**
   - –ë–æ–ª—å—à–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π
   - –°–ª–æ–∂–Ω–µ–µ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö

2. **–ë–æ–ª–µ–µ —Ç—â–∞—Ç–µ–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
   - –ù—É–∂–Ω–æ –ø—Ä–æ–¥—É–º—ã–≤–∞—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã —Å–ª–æ–µ–≤
   - –ë–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

3. **–ë–æ–ª—å—à–µ boilerplate –∫–æ–¥–∞**
   - –ù—É–∂–Ω—ã –∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞
   - –ë–æ–ª—å—à–µ —Ñ–∞–π–ª–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

4. **–ú–æ–∂–µ—Ç –±—ã—Ç—å overkill**
   - –î–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏–∑–±—ã—Ç–æ—á–Ω–æ
   - –ï—Å–ª–∏ —Ç–æ—á–Ω–æ –∏–∑–≤–µ—Å—Ç–µ–Ω —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ - –ø—Ä–æ—â–µ –±–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π

---

## 6. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ (—Ç–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚úÖ –¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥ —Å React hook

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

- –ü—Ä–æ–µ–∫—Ç —É—á–µ–±–Ω—ã–π, –Ω–µ–±–æ–ª—å—à–æ–π
- –¶–µ–ª—å - –ø–æ–∫–∞–∑–∞—Ç—å –æ—Å–Ω–æ–≤—ã Web3, –∞ –Ω–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- React hook –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
- –ú–µ–Ω—å—à–µ complexity

### –î–ª—è production / –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚úÖ Framework-agnostic Core + –ê–¥–∞–ø—Ç–µ—Ä—ã

**–ü–æ–¥—Ö–æ–¥:**

```typescript
// 1. Core Service (—á–∏—Å—Ç—ã–π TS)
// src/core/WalletManager.ts
export class WalletManager {
  private state: WalletState = { /* ... */ };
  private emitter = new EventEmitter();

  async connect() { /* ... */ }

  on(event: string, callback: Function) {
    this.emitter.on(event, callback);
  }
}

// 2. Framework –∞–¥–∞–ø—Ç–µ—Ä—ã –∫–∞–∫ thin wrappers
// src/adapters/react.ts
export function useWallet() {
  const manager = useMemo(() => new WalletManager(), []);
  const [state, setState] = useState(manager.getState());

  useEffect(() => {
    manager.on('change', setState);
    return () => manager.off('change', setState);
  }, []);

  return { ...state, connect: manager.connect };
}
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

- –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- –ë–æ–ª—å—à–æ–π –ø—Ä–æ–µ–∫—Ç —Å –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º
- –ö–æ–º–∞–Ω–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏
- –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–æ–ª–≥–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

---

## 7. –†–µ—à–µ–Ω–∏–µ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### –í–∞—Ä–∏–∞–Ω—Ç A: –ü—Ä–æ—Å—Ç–æ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–µ–π—á–∞—Å)

–û—Å—Ç–∞–≤–∏—Ç—å React-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å `useWallet` hook:

**–ü–ª—é—Å—ã:**

- –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- –ú–µ–Ω—å—à–µ –∫–æ–¥–∞
- –ü—Ä–æ—â–µ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è

**–ú–∏–Ω—É—Å—ã:**

- –ü—Ä–∏–≤—è–∑–∫–∞ –∫ React

### –í–∞—Ä–∏–∞–Ω—Ç B: Hybrid (–∫–æ–º–ø—Ä–æ–º–∏—Å—Å)

–í—ã–¥–µ–ª–∏—Ç—å core –ª–æ–≥–∏–∫—É –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å, –Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ React:

```text
src/
  core/
    WalletService.ts     # Pure TS
  hooks/
    useWallet.ts         # React wrapper
  components/            # React components
```

**–ü–ª—é—Å—ã:**

- –õ–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å core
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å Vue –∞–¥–∞–ø—Ç–µ—Ä –ø–æ–∑–∂–µ
- –ù–µ —Å–∏–ª—å–Ω–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç

**–ú–∏–Ω—É—Å—ã:**

- –ß—É—Ç—å –±–æ–ª—å—à–µ –∫–æ–¥–∞

### –í–∞—Ä–∏–∞–Ω—Ç C: –ü–æ–ª–Ω—ã–π framework-agnostic (–¥–ª—è –±—É–¥—É—â–µ–≥–æ)

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å monorepo —Å core + –∞–¥–∞–ø—Ç–µ—Ä–∞–º–∏ (—Å–º. —Ä–∞–∑–¥–µ–ª 3)

**–ü–ª—é—Å—ã:**

- –ü–æ–ª–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥

**–ú–∏–Ω—É—Å—ã:**

- –ú–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫—É
- –ò–∑–±—ã—Ç–æ—á–Ω–æ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞

---

## 8. –í—ã–≤–æ–¥—ã

1. **Framework-agnostic –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–æ–∑–º–æ–∂–Ω–∞ –∏ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª** –¥–ª—è Web3 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
2. **–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è:** –æ—Ç–¥–µ–ª–∏—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É (Web3) –æ—Ç UI-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞
3. **–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏** (wagmi, web3-onboard) —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥
4. **–î–ª—è —É—á–µ–±–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞** - —Ç–µ–∫—É—â–∏–π React –ø–æ–¥—Ö–æ–¥ –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω
5. **–î–ª—è production** - —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å Core + Adapters –ø–∞—Ç—Ç–µ—Ä–Ω

---

## 9. –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ï—Å–ª–∏ —Ä–µ—à–∏–º –ø—Ä–∏–º–µ–Ω–∏—Ç—å –≤ —Ç–µ–∫—É—â–µ–º –ø—Ä–æ–µ–∫—Ç–µ

1. –°–æ–∑–¥–∞—Ç—å `src/core/WalletService.ts` —Å —á–∏—Å—Ç–æ–π Web3 –ª–æ–≥–∏–∫–æ–π
2. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å `useWallet` hook –∫–∞–∫ –∞–¥–∞–ø—Ç–µ—Ä
3. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä Vue –∞–¥–∞–ø—Ç–µ—Ä–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

### –ï—Å–ª–∏ –æ—Å—Ç–∞–≤–∏–º –∫–∞–∫ –µ—Å—Ç—å

1. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –∫–∞–∫ ADR
2. –î–æ–±–∞–≤–∏—Ç—å –≤ —Ä–∞–∑–¥–µ–ª "–ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è" –≤ PLAN.md
3. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å React-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π

---

## –°—Å—ã–ª–∫–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- [Wagmi - Framework-agnostic Web3](https://wagmi.sh/)
- [Web3-Onboard](https://onboard.blocknative.com/)
- [WalletConnect](https://walletconnect.com/)
- [Web Components](https://developer.mozilla.org/en-US/docs/Web/Web_Components)
- [Zustand - Framework-agnostic state](https://github.com/pmndrs/zustand)
